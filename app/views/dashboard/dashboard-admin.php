 <?php

  ?>
 <div class="row">
   <div class="loader-overlay">
     <div class="loader"></div>
   </div>
   Mahabharat
   <div class="col-6 col-sm-6 col-md-3 col-lg-2 col-xl-2 mb-8 mt-8">
     <a href="<?php echo BASE_URL; ?>/SIS/index" style="text-decoration: none; color: black;">
       <div class="card shadow-lg text-center p-2">
         <!-- Image first -->
         <div>
           <img class="img img-fluid feature-icon mx-auto d-block" src="<?php echo BASE_URL; ?>/img/icons/sis-icon.svg" loading="lazy" style="height: 100px; width: 100px;" alt="SIS" title="SIS">

         </div>
         <!-- Text below the image -->

         <h5 class="mt-3">SIS</h5>

       </div>
     </a>


   </div>
   <div class="col-6 col-sm-6 col-md-3 col-lg-2 col-xl-2 mb-8 mt-8">
     <a href="<?php echo BASE_URL ?>/Course/index" style="text-decoration: none; color: black;">
       <div class="card shadow-lg text-center p-2">
         <!-- Image first -->
         <div>
           <img class="img img-fluid feature-icon mx-auto d-block" src="<?php echo BASE_URL; ?>/img/icons/courses-icon.svg" loading="lazy" style="height: 100px; width: 100px;" alt="SIS" title="SIS">

         </div>
         <!-- Text below the image -->

         <h5 class="mt-3">Course</h5>

       </div>
     </a>


   </div>
   <div class="col-6 col-sm-6 col-md-3 col-lg-2 col-xl-2 mb-8 mt-8">
     <a href="/feature-student-information-system" style="text-decoration: none; color: black;">
       <div class="card shadow-lg text-center p-2">
         <!-- Image first -->
         <div>
           <img class="img img-fluid feature-icon mx-auto d-block" src="<?php echo BASE_URL; ?>/img/icons/fees-icon.svg" loading="lazy" style="height: 100px; width: 100px;" alt="SIS" title="SIS">

         </div>
         <!-- Text below the image -->

         <h5 class="mt-3">Fees</h5>

       </div>
     </a>


   </div>
   <div class="col-6 col-sm-6 col-md-3 col-lg-2 col-xl-2 mb-8 mt-8">
     <a href="/feature-student-information-system" style="text-decoration: none; color: black;">
       <div class="card shadow-lg text-center p-2">
         <!-- Image first -->
         <div>
           <img class="img img-fluid feature-icon mx-auto d-block" src="<?php echo BASE_URL; ?>/img/icons/online-admission-icon.svg" loading="lazy" style="height: 100px; width: 100px;" alt="SIS" title="SIS">

         </div>
         <!-- Text below the image -->

         <h5 class="mt-3">Online Admission</h5>

       </div>
     </a>


   </div>

   <div class="col-6 col-sm-6 col-md-3 col-lg-2 col-xl-2 mb-8 mt-8">
     <a href="/feature-student-information-system" style="text-decoration: none; color: black;">
       <div class="card shadow-lg text-center p-2">
         <!-- Image first -->
         <div>
           <img class="img img-fluid feature-icon mx-auto d-block" src="<?php echo BASE_URL; ?>/img/icons/openeducat_exam.svg" loading="lazy" style="height: 100px; width: 100px;" alt="SIS" title="SIS">

         </div>
         <!-- Text below the image -->

         <h5 class="mt-3">Exam</h5>

       </div>
     </a>


   </div>
   <div class="col-6 col-sm-6 col-md-3 col-lg-2 col-xl-2 mb-8 mt-8">
     <a href="/feature-student-information-system" style="text-decoration: none; color: black;">
       <div class="card shadow-lg text-center p-2">
         <!-- Image first -->
         <div>
           <img class="img img-fluid feature-icon mx-auto d-block" src="<?php echo BASE_URL; ?>/img/icons/openeducat_attendance.svg" loading="lazy" style="height: 100px; width: 100px;" alt="SIS" title="SIS">

         </div>
         <!-- Text below the image -->

         <h5 class="mt-3">Attendance</h5>

       </div>
     </a>


   </div>
   <div class="col-6 col-sm-6 col-md-3 col-lg-2 col-xl-2 mb-8 mt-8">
     <a href="/feature-student-information-system" style="text-decoration: none; color: black;">
       <div class="card shadow-lg text-center p-2">
         <!-- Image first -->
         <div>
           <img class="img img-fluid feature-icon mx-auto d-block" src="<?php echo BASE_URL; ?>/img/icons/openeducat_library.svg" loading="lazy" style="height: 100px; width: 100px;" alt="SIS" title="SIS">

         </div>
         <!-- Text below the image -->

         <h5 class="mt-3">Library</h5>

       </div>
     </a>


   </div>
   <div class="col-6 col-sm-6 col-md-3 col-lg-2 col-xl-2 mb-8 mt-8">
     <a href="/feature-student-information-system" style="text-decoration: none; color: black;">
       <div class="card shadow-lg text-center p-2">
         <!-- Image first -->
         <div>
           <img class="img img-fluid feature-icon mx-auto d-block" src="<?php echo BASE_URL; ?>/img/icons/faculties-icon.svg" loading="lazy" style="height: 100px; width: 100px;" alt="SIS" title="SIS">

         </div>
         <!-- Text below the image -->

         <h5 class="mt-3">Faculty</h5>

       </div>
     </a>


   </div>
   <div class="col-6 col-sm-6 col-md-3 col-lg-2 col-xl-2 mb-8 mt-8">
     <a href="/feature-student-information-system" style="text-decoration: none; color: black;">
       <div class="card shadow-lg text-center p-2">
         <!-- Image first -->
         <div>
           <img class="img img-fluid feature-icon mx-auto d-block" src="<?php echo BASE_URL; ?>/img/icons/documents-icon.svg" loading="lazy" style="height: 100px; width: 100px;" alt="SIS" title="SIS">

         </div>
         <!-- Text below the image -->

         <h5 class="mt-3">Document</h5>

       </div>
     </a>


   </div>












   <!-- <div class="col-4">
     <div class="info-box shadow-lg">
       <span class="info-box-icon bg-success"><i class="fas fa-users text-black"></i></span>
       <div class="info-box-content">
         <span class="info-box-number" id="users"></span>
         <span class="info-box-text">Admissions</span>
         <a href="<?php echo BASE_URL; ?>/Admission/index" class="info-box-text">More Info <i class="fas fa-arrow-circle-right"></i></a>
       </div>
     </div>
   </div>

   <div class="col-4">
     <div class="info-box shadow-lg">
       <span class="info-box-icon bg-primary"><i class="fas fa-user-graduate"></i></span>
       <div class="info-box-content">
         <span class="info-box-number" id="complaints"></span>
         <span class="info-box-text">Student List</span>
         <a href="<?php echo BASE_URL; ?>/Student/index" class="info-box-text">More Info <i class="fas fa-arrow-circle-right"></i></a>

       </div>

     </div>

   </div> -->

   <!-- <div class="col-4">
     <div class="info-box shadow-lg">
       <span class="info-box-icon bg-dark"><i class="fa fa-user-tie"></i></span>
       <div class="info-box-content">
         <span class="info-box-number" id="area"></span>

         <span class="info-box-text">Faculty List</span>
         <a href="<?php echo BASE_URL; ?>/area/index" class="info-box-text">More Info <i class="fas fa-arrow-circle-right"></i></a>

       </div>
     </div>
   </div> -->

 </div>

 <!-- search registration No -->
 <!-- <div class="row">
   <div class=" shadow-sm col-6">
     <div class="card">
       <div class="alert alert-danger" id="error-msg" style="display:none"></div>
       <div class="alert alert-success" id="success-msg" style="display:none"></div>

       <div class="card-body d-flex align-items-center">
         <input type="text" class="form-control" id="RegNo" placeholder="Enter Enrollment no." style="border-radius: 5px;">
         <button class="btn btn-primary ml-5" id="subRegBtn" style="border-radius: 5px;" onclick="submitRegNo()">Submit</button>

         <div id="btn-loader" class="loader ml-2" style="display: none;">
       </div>
       </div>
     </div>
   </div>

 </div> -->
 <script>
   $(document).ready(function() {

     //  const eventSource = new EventSource('<?php echo BASE_URL ?>/api/streamComplaints'); // Update the path accordingly

     //  eventSource.onmessage = function(event) {
     //    try {
     //      const newEntry = JSON.parse(event.data);

     //      toastr.success('New complaint added: ' + newEntry.description);

     //      // Optionally, update your dashboard or UI elements here
     //      // For example:
     //      // updateDashboardWithNewComplaint(newEntry);
     //    } catch (error) {
     //      console.error('Error parsing SSE data:', error);
     //    }
     //  };

     //  // Handle SSE errors
     //  eventSource.onerror = function(event) {
     //    console.error("SSE encountered an error:", event);
     //    // Optionally, implement reconnection logic or notify the user
     //  };



   });

   function getallCountForDashboard() {
     $.post("<?php echo BASE_URL ?>/count/getAllCounts", function(response) {
       var data = response.data;
       console.log(data);
       var fields = ['complaints', 'area', 'users'];

       fields.forEach(function(field) {
         animateCount(field, data[field]);
       });
     }, "json");
   }


   function animateCount(field, finalValue) {

     var $element = $('#' + field);
     var currentValue = 0;
     var increment = Math.ceil(finalValue / 100);

     function updateCount() {
       currentValue += increment;
       if (currentValue > finalValue) {
         currentValue = finalValue;
       }
       $element.html(currentValue);
       if (currentValue < finalValue) {
         setTimeout(updateCount, 50);
       }
     }
     updateCount();
   }



   function submitRegNo() {
     $('#subRegBtn').hide();
     $('#btn-loader').show();
     const registrationNo = $('#RegNo').val();
     if (registrationNo == "") {
       $('#error-msg').text("Please enter complaint number").show();
       setTimeout(function() {
         $('#btn-loader').hide();

         $('#subRegBtn').show();
         $('#error-msg').text("Please enter complaint number").hide();

       }, 1000);

       exit();
     }

     $.ajax({
       url: "<?php echo BASE_URL; ?>/complaints/getRegistrationNo",
       type: "POST",
       data: {
         registrationNo: registrationNo
       },
       success: function(response) {
         response = JSON.parse(response);
         if (response.success) {
           setTimeout(function() {
             $('#btn-loader').hide();
             window.location.href = "<?php echo BASE_URL; ?>/complaints/complaintSingle";
             $('#subRegBtn').show();
           }, 2000);
         } else {

           $('#btn-loader').show();
           setTimeout(function() {
             $('#btn-loader').hide();
             $('#error-msg').text("Invalid Complaint Number").show();
             setTimeout(function() {
               $('#error-msg').hide();
               $('#subRegBtn').show();
             }, 2000);
           }, 500);
         }
       },
     });

   }









   // MAP JAVASCRIPT
 </script>